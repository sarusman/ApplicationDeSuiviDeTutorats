<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{menu}"
>
<head>
    <title>Dashboard</title>
    <style>
        .tab {
            display: none;
        }

        .tab.active {
            display: block;
        }
    </style>
</head>
<body>
<section layout:fragment="content">
<h1>Dashboard</h1>

<div class="tab-buttons">
    <button onclick="showTab('trainee')">Trainee</button>
    <button onclick="showTab('autre')">Autre</button>
</div>

<div id="trainee" class="tab active">
    <h2>Liste des Trainees</h2>
    <table class="table table-striped table-condensed" style="width: auto" >
        <thead class="thead-dark">
        <tr>
            <th scope="col"><bold>Id</bold></th>
            <th scope="col"><bold>Nom</bold></th>
            <th scope="col"><bold>Prénom</bold></th>
            <th scope="col">Programme</th>
            <th scope="col">Majeure</th>
            <th scope="col">Année académique</th>
            <th scope="col">E-mail</th>
            <th scope="col">Téléphone</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="trainee :${trainees}"  style="cursor: pointer"
            th:onclick="|rowClicked('${trainee.id}')|">
            <td th:text="${trainee.id}"></td>
            <td th:text="${trainee.firstName}"></td>
            <td th:text="${trainee.lastName}"></td>
            <td th:text="${trainee.program}"></td>
            <td th:text="${trainee.major}"></td>
            <td th:text="${trainee.schoolYear}"></td>
            <td th:text="${trainee.mail}"></td>
            <td th:text="${trainee.phone}"></td>
        </tr>
        </tbody>
    </table>
</div>

<div id="autre" class="tab">
    <h2>Autre</h2>
</div>

<script>
    function showTab(tabId) {
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => tab.classList.remove('active'));

        document.getElementById(tabId).classList.add('active');
    }

    function rowClicked(value) {
        location.href = "/trainee/" + value;
    }
</script>
</section>
</body>
</html>
