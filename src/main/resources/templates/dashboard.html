<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{menu}"
>
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
</head>
<body>
<section layout:fragment="content">
<h1>Dashboard</h1>

<div class="tab-buttons">
    <button id="TButton" class="button active" onclick="showTab('trainee', 'TButton')">Trainee</button>
    <button id="AButton" class="button" onclick="showTab('autre', 'AButton')">Autre</button>
</div>

<div id="trainee" class="tab active">
    <h2>Liste des Trainees</h2>
    <table class="table table-striped table-condensed" style="width: auto" >
        <thead class="thead-dark">
        <tr>
            <th scope="col"><bold>Id</bold></th>
            <th scope="col"><bold>Nom</bold></th>
            <th scope="col"><bold>Prénom</bold></th>
            <th scope="col">Programme</th>
            <th scope="col">Majeure</th>
            <th scope="col">Année académique</th>
            <th scope="col">E-mail</th>
            <th scope="col">Téléphone</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="trainee :${trainees}"  style="cursor: pointer">
            <td th:text="${trainee.id}" th:onclick="|rowClicked('/trainee/${trainee.id}')|"></td>
            <td th:text="${trainee.firstName}"></td>
            <td th:text="${trainee.lastName}"></td>
            <td th:text="${trainee.program}"></td>
            <td th:text="${trainee.major}"></td>
            <td th:text="${trainee.schoolYear}"></td>
            <td th:text="${trainee.mail}"></td>
            <td th:text="${trainee.phone}"></td>
        </tr>
        </tbody>
    </table>
</div>

<div id="autre" class="tab">
    <h2>Liste des Mentors</h2>
    <table class="table table-striped table-condensed" style="width: auto" >
        <thead class="thead-dark">
        <tr>
            <th scope="col"><bold>Id</bold></th>
            <th scope="col"><bold>Nom</bold></th>
            <th scope="col"><bold>Prénom</bold></th>
            <th scope="col">Job</th>
            <th scope="col">Remarques</th>
            <th scope="col">E-mail</th>
            <th scope="col">Téléphone</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="mentor :${mentors}"  style="cursor: pointer">
            <td th:text="${mentor.id}" th:onclick="|rowClicked('/mentor/${mentor.id}')|"></td>
            <td th:text="${mentor.firstName}"></td>
            <td th:text="${mentor.lastName}"></td>
            <td th:text="${mentor.job}"></td>
            <td th:text="${mentor.remarks}"></td>
            <td th:text="${mentor.mail}"></td>
            <td th:text="${mentor.phone}"></td>
        </tr>
        </tbody>
    </table>
</div>

<script>
    function showTab(tabId, buttonID) {
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => tab.classList.remove('active'));

        const buttons = document.querySelectorAll('.button');
        buttons.forEach(button => button.classList.remove('active'));

        document.getElementById(tabId).classList.add('active');
        document.getElementById(buttonID).classList.add('active');
    }

    function rowClicked(value) {
        location.href = value;
    }
</script>
</section>
</body>
</html>
