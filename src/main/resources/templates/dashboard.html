<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/menu}"
>
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
</head>
<body>
<section layout:fragment="content">
    <h1>Dashboard</h1>

    <div class="tab-buttons">
        <button id="AButton" class="button active" onclick="showTab('apprenti', 'AButton')">Apprentis</button>
    </div>

    <div id="apprenti" class="tab active">
        <h2>Liste des Apprentis</h2>
        <table class="table table-striped table-condensed" style="width: auto" >
            <thead class="thead-dark">
            <tr>
                <th scope="col"><bold>Id</bold></th>
                <th scope="col"><bold>Nom</bold></th>
                <th scope="col"><bold>Prénom</bold></th>
                <th scope="col">Programme</th>
                <th scope="col">E-mail</th>
                <th scope="col">Téléphone</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="apprenti :${apprentis}"  style="cursor: pointer">
                <td th:text="${apprenti.id}" th:onclick="|rowClicked('/apprenti/${apprenti.id}')|"></td>
                <td th:text="${apprenti.nom}"></td>
                <td th:text="${apprenti.prenom}"></td>
                <td th:text="${apprenti.programme}"></td>
                <td th:text="${apprenti.adresseElectronique}"></td>
                <td th:text="${apprenti.telephone}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <script>
        function showTab(tabId, buttonID) {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            const buttons = document.querySelectorAll('.button');
            buttons.forEach(button => button.classList.remove('active'));

            document.getElementById(tabId).classList.add('active');
            document.getElementById(buttonID).classList.add('active');
        }

        function rowClicked(value) {
            location.href = value;
        }
    </script>
</section>
</body>
</html>